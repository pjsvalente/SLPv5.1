import{j as e}from"./vendor-ui-CHMJddlm.js";import{r as l}from"./vendor-react-B7WRoy5K.js";import{u as ye}from"./useApi-Ba-RrdCS.js";import{u as be,z as he,h as Y,P as z,I as Z,d as ee,c as te,ae as ke,av as ve,t as je,v as fe,T as W,a4 as Ne,R as we,w as Re,ai as Ce,a3 as Se,r as Te,X as Be,V as Ie}from"./index-BjfB3M3w.js";import{F as c}from"./FormField-Ca4YH20c.js";import"./vendor-charts-C5vizwv2.js";const Ee={assets:[{key:"numero_serie",label:"Serial Number",type:"text"},{key:"rfid_tag",label:"RFID Tag",type:"text"},{key:"referencia_produto",label:"Product Reference",type:"text"},{key:"fabricante",label:"Manufacturer",type:"text"},{key:"modelo",label:"Model",type:"text"},{key:"estado",label:"Status",type:"select"},{key:"municipio",label:"Municipality",type:"text"},{key:"morada",label:"Address",type:"text"},{key:"gps_latitude",label:"GPS Latitude",type:"number"},{key:"gps_longitude",label:"GPS Longitude",type:"number"},{key:"data_instalacao",label:"Installation Date",type:"date"},{key:"proxima_manutencao",label:"Next Maintenance",type:"date"},{key:"fim_garantia",label:"Warranty End",type:"date"},{key:"created_at",label:"Created At",type:"date"},{key:"updated_at",label:"Updated At",type:"date"}],interventions:[{key:"numero",label:"Intervention Number",type:"text"},{key:"tipo",label:"Type",type:"select"},{key:"estado",label:"Status",type:"select"},{key:"prioridade",label:"Priority",type:"select"},{key:"asset_serial",label:"Asset Serial",type:"text"},{key:"descricao_problema",label:"Problem Description",type:"text"},{key:"descricao_solucao",label:"Solution",type:"text"},{key:"data_agendada",label:"Scheduled Date",type:"date"},{key:"data_conclusao",label:"Completion Date",type:"date"},{key:"custo_total",label:"Total Cost",type:"number"},{key:"created_at",label:"Created At",type:"date"},{key:"created_by",label:"Created By",type:"text"}],technicians:[{key:"nome",label:"Name",type:"text"},{key:"tipo",label:"Type",type:"select"},{key:"empresa",label:"Company",type:"text"},{key:"especializacao",label:"Specialization",type:"text"},{key:"telefone",label:"Phone",type:"text"},{key:"email",label:"Email",type:"text"},{key:"ativo",label:"Active",type:"boolean"},{key:"intervention_count",label:"Intervention Count",type:"number"}]},_e=[{key:"eq",label:"= Equal"},{key:"ne",label:"≠ Not Equal"},{key:"gt",label:"> Greater Than"},{key:"lt",label:"< Less Than"},{key:"gte",label:"≥ Greater or Equal"},{key:"lte",label:"≤ Less or Equal"},{key:"contains",label:"∋ Contains"},{key:"in",label:"∈ In List"}];function qe(){const{t:r}=be(),{formatDate:De,formatDateTime:re}=he(),i=ye(),[N,h]=l.useState(!1),[x,se]=l.useState([]),[w,X]=l.useState(null),[n,ae]=l.useState(null),[le,u]=l.useState(!1),[oe,J]=l.useState(!1),[k,R]=l.useState(""),[H,C]=l.useState(""),[v,S]=l.useState("assets"),[d,y]=l.useState([]),[g,p]=l.useState([]),[T,B]=l.useState(""),[I,E]=l.useState(""),[_,D]=l.useState("asc"),[m,F]=l.useState(""),[L,O]=l.useState(""),[P,A]=l.useState(""),[$,q]=l.useState(!0),[G,V]=l.useState("bar"),j=l.useCallback(async()=>{try{const t=await i.get("/reports/templates");se(t.templates||[])}catch(t){console.error("Error loading templates:",t)}},[i]);l.useEffect(()=>{j()},[j]);const b=()=>{R(""),C(""),S("assets"),y([]),p([]),B(""),E(""),D("asc"),F(""),O(""),A(""),q(!0),V("bar"),X(null)},ne=t=>{var s,a,o;X(t),R(t.name),C(t.description||""),S(t.type),y(t.config.columns||[]),p(t.config.filters||[]),B(t.config.groupBy||""),E(t.config.sortBy||""),D(t.config.sortOrder||"asc"),F(((s=t.config.dateRange)==null?void 0:s.field)||""),O(((a=t.config.dateRange)==null?void 0:a.start)||""),A(((o=t.config.dateRange)==null?void 0:o.end)||""),q(t.config.includeStats!==!1),V(t.config.chartType||"bar"),u(!0)},de=async()=>{if(!k.trim()){alert(r("customReports.nameRequired"));return}if(d.length===0){alert(r("customReports.columnsRequired"));return}h(!0);try{const t={columns:d,filters:g,groupBy:T||void 0,sortBy:I||void 0,sortOrder:_,includeStats:$,chartType:G};m&&(t.dateRange={field:m,start:L||void 0,end:P||void 0});const s={name:k,description:H,type:v,config:t};w?await i.put(`/reports/templates/${w.id}`,s):await i.post("/reports/templates",s),await j(),u(!1),b()}catch(t){console.error("Error saving template:",t),alert(r("customReports.saveError"))}finally{h(!1)}},ce=async t=>{if(confirm(r("customReports.confirmDelete")))try{await i.delete(`/reports/templates/${t}`),await j()}catch(s){console.error("Error deleting template:",s)}},K=async t=>{h(!0);try{const s=t?t.config:{columns:d,filters:g,groupBy:T||void 0,sortBy:I||void 0,sortOrder:_,includeStats:$,chartType:G};!t&&m&&(s.dateRange={field:m,start:L||void 0,end:P||void 0});const a=t?t.type:v,o=await i.post("/reports/custom",{type:a,config:s});ae(o),J(!0)}catch(s){console.error("Error generating report:",s),alert(r("customReports.generateError"))}finally{h(!1)}},Q=async t=>{if(n)try{const s=await i.getBlob(`/reports/export?format=${t}`,{method:"POST",body:JSON.stringify(n)}),a=window.URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`report_${new Date().toISOString().slice(0,10)}.${t==="excel"?"xlsx":"csv"}`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a),document.body.removeChild(o)}catch(s){console.error("Error exporting report:",s)}},ie=()=>{p([...g,{field:"",operator:"eq",value:""}])},ge=t=>{p(g.filter((s,a)=>a!==t))},U=(t,s,a)=>{const o=[...g];o[t]={...o[t],[s]:a},p(o)},me=t=>{d.includes(t)?y(d.filter(s=>s!==t)):y([...d,t])},f=Ee[v]||[],M=t=>{const s=f.find(a=>a.key===t);return s?r(`customReports.columns.${t}`,{defaultValue:s.label}):t},xe=t=>{var o;const a={assets:Z,interventions:ee,technicians:te,mixed:ke}[t.type]||z;return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(a,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.name}),t.description&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:r(`customReports.types.${t.type}`)}),e.jsxs("span",{className:"text-xs text-gray-400",children:[((o=t.config.columns)==null?void 0:o.length)||0," ",r("customReports.columns")]}),t.is_default===1&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:r("customReports.default")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>K(t),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:r("customReports.generate"),children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ne(t),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:r("common.edit"),children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ce(t.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:r("common.delete"),children:e.jsx(fe,{className:"w-4 h-4"})})]})]})},t.id)},ue=()=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r(w?"customReports.editTemplate":"customReports.newTemplate")}),e.jsx("button",{onClick:()=>{u(!1),b()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(c,{name:"name",label:r("customReports.templateName"),value:k,onChange:R,required:!0}),e.jsx(c,{name:"type",label:r("customReports.reportType"),type:"select",value:v,onChange:t=>{S(t),y([]),p([])},options:[{value:"assets",label:r("customReports.types.assets")},{value:"interventions",label:r("customReports.types.interventions")},{value:"technicians",label:r("customReports.types.technicians")}]})]}),e.jsx(c,{name:"description",label:r("common.description"),type:"textarea",value:H,onChange:C}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 inline-block mr-2"}),r("customReports.selectColumns")," *"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:f.map(t=>e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${d.includes(t.key)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx("input",{type:"checkbox",checked:d.includes(t.key),onChange:()=>me(t.key),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r(`customReports.columns.${t.key}`,{defaultValue:t.label})})]},t.key))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(we,{className:"w-4 h-4 inline-block mr-2"}),r("customReports.filters")]}),e.jsxs("button",{onClick:ie,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4"}),r("customReports.addFilter")]})]}),g.length>0?e.jsx("div",{className:"space-y-2",children:g.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("select",{value:t.field,onChange:a=>U(s,"field",a.target.value),className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:r("customReports.selectField")}),f.map(a=>e.jsx("option",{value:a.key,children:r(`customReports.columns.${a.key}`,{defaultValue:a.label})},a.key))]}),e.jsx("select",{value:t.operator,onChange:a=>U(s,"operator",a.target.value),className:"w-40 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm",children:_e.map(a=>e.jsx("option",{value:a.key,children:a.label},a.key))}),e.jsx("input",{type:"text",value:t.value,onChange:a=>U(s,"value",a.target.value),placeholder:r("customReports.filterValue"),className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm"}),e.jsx("button",{onClick:()=>ge(s),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(W,{className:"w-4 h-4"})})]},s))}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:r("customReports.noFilters")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline-block mr-2"}),r("customReports.dateRange")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(c,{name:"dateField",label:r("customReports.dateField"),type:"select",value:m,onChange:F,options:[{value:"",label:r("customReports.noDateFilter")},...f.filter(t=>t.type==="date").map(t=>({value:t.key,label:r(`customReports.columns.${t.key}`,{defaultValue:t.label})}))]}),e.jsx(c,{name:"dateStart",label:r("reports.startDate"),type:"date",value:L,onChange:O,disabled:!m}),e.jsx(c,{name:"dateEnd",label:r("reports.endDate"),type:"date",value:P,onChange:A,disabled:!m})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(c,{name:"groupBy",label:r("customReports.groupBy"),type:"select",value:T,onChange:B,options:[{value:"",label:r("customReports.noGrouping")},...d.map(t=>({value:t,label:M(t)}))]}),e.jsx(c,{name:"sortBy",label:r("customReports.sortBy"),type:"select",value:I,onChange:E,options:[{value:"",label:r("customReports.defaultSort")},...d.map(t=>({value:t,label:M(t)}))]}),e.jsx(c,{name:"sortOrder",label:r("customReports.sortOrder"),type:"select",value:_,onChange:t=>D(t),options:[{value:"asc",label:r("customReports.ascending")},{value:"desc",label:r("customReports.descending")}]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:t=>q(t.target.checked),className:"rounded border-gray-300"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("customReports.includeStats")}),e.jsx("p",{className:"text-xs text-gray-500",children:r("customReports.includeStatsDesc")})]})]}),e.jsx(c,{name:"chartType",label:r("customReports.chartType"),type:"select",value:G,onChange:t=>V(t),options:[{value:"none",label:r("customReports.noChart")},{value:"bar",label:r("customReports.barChart")},{value:"pie",label:r("customReports.pieChart")},{value:"line",label:r("customReports.lineChart")}]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[e.jsxs("button",{onClick:()=>K(),disabled:N||d.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"}),r("customReports.preview")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{u(!1),b()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r("common.cancel")}),e.jsxs("button",{onClick:de,disabled:N||!k.trim()||d.length===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[N?e.jsx(Se,{className:"w-4 h-4 animate-spin"}):e.jsx(Te,{className:"w-4 h-4"}),r("common.save")]})]})]})]})}),pe=()=>n?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("customReports.reportPreview")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.data.length," ",r("common.results")," • ",re(n.generated_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Q("csv"),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),"CSV"]}),e.jsxs("button",{onClick:()=>Q("excel"),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Excel"]}),e.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(W,{className:"w-5 h-5"})})]})]}),n.stats&&Object.keys(n.stats).length>0&&e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex flex-wrap gap-4",children:Object.entries(n.stats).map(([t,s])=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg px-4 py-2 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:typeof s=="number"?s.toLocaleString():String(s)})]},t))})}),e.jsx("div",{className:"flex-1 overflow-auto",children:n.data.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0",children:e.jsx("tr",{children:n.config.columns.map(t=>e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M(t)},t))})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.data.map((t,s)=>e.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:n.config.columns.map(a=>e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100 whitespace-nowrap",children:t[a]??"-"},a))},s))})]}):e.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r("common.noData")})})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r("customReports.title")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("customReports.description")})]}),e.jsxs("button",{onClick:()=>{b(),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Y,{className:"w-5 h-5"}),r("customReports.newTemplate")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:r("customReports.totalTemplates")}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:r("customReports.assetReports")}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.filter(t=>t.type==="assets").length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(ee,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:r("customReports.interventionReports")}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.filter(t=>t.type==="interventions").length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(te,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:r("customReports.technicianReports")}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:x.filter(t=>t.type==="technicians").length})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("customReports.savedTemplates")}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(xe)}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-8 text-center",children:[e.jsx(z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("customReports.noTemplates")}),e.jsx("button",{onClick:()=>{b(),u(!0)},className:"mt-4 text-blue-600 hover:text-blue-700",children:r("customReports.createFirst")})]})]}),le&&ue(),oe&&pe()]})}export{qe as default};
