import{j as t}from"./vendor-ui-CHMJddlm.js";import{r as p}from"./vendor-react-B7WRoy5K.js";import{k as j,u as T,X as O}from"./index-B4kLCiXA.js";import{U as S}from"./upload-CWKF6k0o.js";import{F as B}from"./file-text-4hJVbqbZ.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=j("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=j("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function K({files:n,onFilesChange:g,onFileRemove:u,accept:v="*/*",multiple:N=!0,maxSize:i=3*1024*1024,maxFiles:h=10,disabled:o=!1,label:b}){const{t:l}=T(),[F,d]=p.useState(!1),[f,x]=p.useState(null),y=p.useRef(null),w=b||l("fileUpload.uploadFiles"),m=e=>e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":(e/(1024*1024)).toFixed(1)+" MB",D=e=>e.startsWith("image/")?t.jsx(R,{className:"h-8 w-8 text-blue-500"}):e==="application/pdf"?t.jsx(B,{className:"h-8 w-8 text-red-500"}):t.jsx(P,{className:"h-8 w-8 text-gray-500"}),U=e=>{const r=[],a=n.length;for(let s=0;s<e.length;s++){const c=e[s];if(a+r.length>=h){x(l("fileUpload.maxFilesError",{count:h}));break}if(c.size>i){x(l("fileUpload.maxSizeError",{name:c.name,size:m(i)}));continue}r.push(c)}return r},k=e=>{x(null);const a=U(e).map(s=>({name:s.name,size:s.size,type:s.type,file:s}));g([...n,...a])},z=e=>{e.preventDefault(),d(!1),!o&&e.dataTransfer.files.length>0&&k(e.dataTransfer.files)},I=e=>{e.preventDefault(),o||d(!0)},L=()=>{d(!1)},C=e=>{e.target.files&&e.target.files.length>0&&(k(e.target.files),e.target.value="")},E=e=>{const r=n[e];u&&u(r);const a=n.filter((s,c)=>c!==e);g(a)};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:w}),t.jsxs("div",{onDrop:z,onDragOver:I,onDragLeave:L,onClick:()=>{var e;return!o&&((e=y.current)==null?void 0:e.click())},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${F?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[t.jsx("input",{ref:y,type:"file",accept:v,multiple:N,onChange:C,disabled:o,className:"hidden"}),t.jsx(S,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l("fileUpload.dragAndDrop")," ",t.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:l("fileUpload.clickToSelect")})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:l("fileUpload.maxSizePerFile",{size:m(i)})})]}),f&&t.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:f}),n.length>0&&t.jsx("ul",{className:"space-y-2",children:n.map((e,r)=>t.jsxs("li",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[D(e.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m(e.size)})]}),e.url&&t.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",onClick:a=>a.stopPropagation(),children:l("common.view")}),t.jsx("button",{onClick:a=>{a.stopPropagation(),E(r)},disabled:o,className:"p-1 text-gray-400 hover:text-red-500 disabled:opacity-50",children:t.jsx(O,{className:"h-4 w-4"})})]},r))})]})}export{K as F,R as I};
