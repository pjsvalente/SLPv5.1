import{j as t}from"./vendor-ui-CHMJddlm.js";import{r as m}from"./vendor-react-B7WRoy5K.js";import{c as L,u as T,X as O,F as S}from"./index-DtPl0Aq5.js";import{U as B}from"./upload-TyijRZ5p.js";import{I as P}from"./image-YcgQvB16.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=L("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);function K({files:n,onFilesChange:u,onFileRemove:g,accept:v="*/*",multiple:k=!0,maxSize:i=3*1024*1024,maxFiles:h=10,disabled:o=!1,label:N}){const{t:l}=T(),[b,d]=m.useState(!1),[f,x]=m.useState(null),y=m.useRef(null),F=N||l("fileUpload.uploadFiles"),p=e=>e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":(e/(1024*1024)).toFixed(1)+" MB",w=e=>e.startsWith("image/")?t.jsx(P,{className:"h-8 w-8 text-blue-500"}):e==="application/pdf"?t.jsx(S,{className:"h-8 w-8 text-red-500"}):t.jsx(R,{className:"h-8 w-8 text-gray-500"}),D=e=>{const r=[],a=n.length;for(let s=0;s<e.length;s++){const c=e[s];if(a+r.length>=h){x(l("fileUpload.maxFilesError",{count:h}));break}if(c.size>i){x(l("fileUpload.maxSizeError",{name:c.name,size:p(i)}));continue}r.push(c)}return r},j=e=>{x(null);const a=D(e).map(s=>({name:s.name,size:s.size,type:s.type,file:s}));u([...n,...a])},U=e=>{e.preventDefault(),d(!1),!o&&e.dataTransfer.files.length>0&&j(e.dataTransfer.files)},z=e=>{e.preventDefault(),o||d(!0)},C=()=>{d(!1)},E=e=>{e.target.files&&e.target.files.length>0&&(j(e.target.files),e.target.value="")},I=e=>{const r=n[e];g&&g(r);const a=n.filter((s,c)=>c!==e);u(a)};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:F}),t.jsxs("div",{onDrop:U,onDragOver:z,onDragLeave:C,onClick:()=>{var e;return!o&&((e=y.current)==null?void 0:e.click())},className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${b?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[t.jsx("input",{ref:y,type:"file",accept:v,multiple:k,onChange:E,disabled:o,className:"hidden"}),t.jsx(B,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l("fileUpload.dragAndDrop")," ",t.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:l("fileUpload.clickToSelect")})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:l("fileUpload.maxSizePerFile",{size:p(i)})})]}),f&&t.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:f}),n.length>0&&t.jsx("ul",{className:"space-y-2",children:n.map((e,r)=>t.jsxs("li",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[w(e.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:p(e.size)})]}),e.url&&t.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",onClick:a=>a.stopPropagation(),children:l("common.view")}),t.jsx("button",{onClick:a=>{a.stopPropagation(),I(r)},disabled:o,className:"p-1 text-gray-400 hover:text-red-500 disabled:opacity-50",children:t.jsx(O,{className:"h-4 w-4"})})]},r))})]})}export{K as F};
