import{j as e}from"./vendor-ui-CHMJddlm.js";import{u as E,r as o}from"./vendor-react-B7WRoy5K.js";import{u as T,a as P,L as $,I as x,b as M,c as K,d as l,e as O,f as k,g as N,h as w,i as C,j as z}from"./index-gVb7keNU.js";import{R as h,P as S,a as F,C as g,T as b,B as U,X as W,Y as X,b as Y}from"./vendor-charts-C5vizwv2.js";const L={Operacional:"#00C853","Manutencao Necessaria":"#FFB300",Manutencao:"#FFB300","Em Reparação":"#FF9100",Avariado:"#FF5252",Desativado:"#78909C",em_curso:"#00A0DC",concluida:"#00C853",cancelada:"#FF5252",pendente:"#FFB300",preventiva:"#00C853",corretiva:"#FFB300",substituicao:"#00A0DC",inspecao:"#7C4DFF",default:"#90A4AE"},p=a=>L[a]||L.default,J=()=>{var v,f,j;const{t:a}=T(),d=E(),[t,_]=o.useState(null),[A,I]=o.useState(!0),[u,R]=o.useState("");o.useEffect(()=>{B()},[]);const B=async()=>{try{const s=await P.get("/dashboard/stats");_(s)}catch(s){R(s.message||a("errors.SERVER_ERROR"))}finally{I(!1)}};if(A)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx($,{size:"lg"})});if(u)return e.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 rounded-2xl",children:u});const D=[{label:a("dashboard.totalAssets"),value:(t==null?void 0:t.total_assets)||0,icon:x,gradient:"from-slp-cyan to-slp-blue-bright",bgLight:"bg-slp-cyan/10",link:"/assets"},{label:a("dashboard.thisMonth"),value:(t==null?void 0:t.recent_assets)||0,icon:M,gradient:"from-emerald-400 to-emerald-600",bgLight:"bg-emerald-500/10",link:"/assets"},{label:a("navigation.users"),value:(t==null?void 0:t.total_users)||0,icon:K,gradient:"from-violet-400 to-violet-600",bgLight:"bg-violet-500/10",link:"/users"},{label:a("dashboard.pendingInterventions"),value:(t==null?void 0:t.open_interventions)||0,icon:l,gradient:"from-amber-400 to-orange-500",bgLight:"bg-amber-500/10",link:"/interventions"}],n=((v=t==null?void 0:t.assets_by_status)==null?void 0:v.map(s=>({name:s.status||a("common.noData"),value:s.count,fill:p(s.status)})))||[],m=((f=t==null?void 0:t.interventions_by_type)==null?void 0:f.map(s=>({name:a(`interventions.types.${s.type}`)||s.type,value:s.count,fill:p(s.type)})))||[],i=((j=t==null?void 0:t.interventions_by_status)==null?void 0:j.map(s=>({name:s.status==="em_curso"?a("interventions.statuses.inProgress"):s.status==="concluida"?a("interventions.statuses.completed"):s.status==="cancelada"?a("interventions.statuses.cancelled"):s.status,value:s.count,fill:p(s.status)})))||[],c=({active:s,payload:r})=>s&&r&&r.length?e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-4",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r[0].name}),e.jsx("p",{className:"text-2xl font-bold text-slp-blue-bright",children:r[0].value})]}):null;return e.jsxs(e.Fragment,{children:[e.jsx(O,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-slp-navy dark:text-white flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg sm:rounded-xl bg-gradient-to-br from-slp-cyan to-slp-blue-bright",children:[e.jsx(k,{size:20,className:"text-white sm:hidden"}),e.jsx(k,{size:24,className:"text-white hidden sm:block"})]}),a("dashboard.title")]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mt-1 sm:mt-2",children:a("dashboard.overview")})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-5",children:D.map((s,r)=>{const y=s.icon;return e.jsxs("div",{onClick:()=>d(s.link),className:"group bg-white dark:bg-gray-800/80 rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 p-3 sm:p-6 cursor-pointer hover:shadow-xl hover:shadow-slp-navy/5 dark:hover:shadow-black/20 transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 sm:space-y-2 min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:s.label}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-slp-navy dark:text-white",children:s.value.toLocaleString()})]}),e.jsxs("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl bg-gradient-to-br ${s.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300 flex-shrink-0 ml-2`,children:[e.jsx(y,{size:16,className:"text-white sm:hidden"}),e.jsx(y,{size:24,className:"text-white hidden sm:block"})]})]}),e.jsx("div",{className:"hidden sm:block mt-4 h-1 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${s.gradient} rounded-full transition-all duration-500`,style:{width:`${Math.min(100,s.value/((t==null?void 0:t.total_assets)||1)*100)}%`}})})]},r)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg bg-slp-navy/10 dark:bg-slp-cyan/20",children:[e.jsx(x,{size:16,gradient:!0,className:"text-slp-navy dark:text-slp-cyan sm:hidden"}),e.jsx(x,{size:20,gradient:!0,className:"text-slp-navy dark:text-slp-cyan hidden sm:block"})]}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slp-navy dark:text-white",children:a("reports.assetsByStatus")})]}),e.jsx("div",{className:"h-48 sm:h-64",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(S,{children:[e.jsx(F,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:3,dataKey:"value",strokeWidth:0,children:n.map((s,r)=>e.jsx(g,{fill:s.fill},`cell-${r}`))}),e.jsx(b,{content:e.jsx(c,{})})]})})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:n.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-sm",style:{backgroundColor:s.fill}}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 truncate max-w-[80px] sm:max-w-none",children:s.name}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["(",s.value,")"]})]},r))})]}),m.length>0?e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg bg-amber-500/10 dark:bg-amber-500/20",children:[e.jsx(l,{size:16,className:"text-amber-600 dark:text-amber-400 sm:hidden"}),e.jsx(l,{size:20,className:"text-amber-600 dark:text-amber-400 hidden sm:block"})]}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slp-navy dark:text-white",children:a("reports.interventionsByType")})]}),e.jsx("div",{className:"h-48 sm:h-64",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(U,{data:m,layout:"vertical",children:[e.jsx(W,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:10}}),e.jsx(X,{dataKey:"name",type:"category",width:80,tick:{fontSize:10,fill:"#64748b"},axisLine:!1,tickLine:!1}),e.jsx(b,{content:e.jsx(c,{})}),e.jsx(Y,{dataKey:"value",radius:[0,8,8,0],children:m.map((s,r)=>e.jsx(g,{fill:s.fill},`cell-${r}`))})]})})})]}):i.length>0?e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg bg-amber-500/10 dark:bg-amber-500/20",children:[e.jsx(l,{size:16,className:"text-amber-600 dark:text-amber-400 sm:hidden"}),e.jsx(l,{size:20,className:"text-amber-600 dark:text-amber-400 hidden sm:block"})]}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slp-navy dark:text-white",children:a("reports.interventionsByStatus")})]}),e.jsx("div",{className:"h-48 sm:h-64",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(S,{children:[e.jsx(F,{data:i,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,paddingAngle:3,dataKey:"value",strokeWidth:0,children:i.map((s,r)=>e.jsx(g,{fill:s.fill},`cell-${r}`))}),e.jsx(b,{content:e.jsx(c,{})})]})})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:i.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full shadow-sm",style:{backgroundColor:s.fill}}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:s.name}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["(",s.value,")"]})]},r))})]}):null]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-xl sm:rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700/50 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg bg-slp-navy/10 dark:bg-slp-cyan/20",children:[e.jsx(N,{size:16,gradient:!0,className:"sm:hidden"}),e.jsx(N,{size:20,gradient:!0,className:"hidden sm:block"})]}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slp-navy dark:text-white",children:a("dashboard.quickActions")})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:[e.jsxs("button",{onClick:()=>d("/assets/new"),className:"group flex flex-col sm:flex-row items-center sm:items-center gap-2 sm:gap-4 p-3 sm:p-5 bg-gradient-to-br from-slp-cyan/5 to-slp-blue-bright/10 dark:from-slp-cyan/10 dark:to-slp-blue-bright/20 hover:from-slp-cyan/10 hover:to-slp-blue-bright/20 dark:hover:from-slp-cyan/20 dark:hover:to-slp-blue-bright/30 rounded-xl border border-slp-cyan/20 dark:border-slp-cyan/30 transition-all duration-300",children:[e.jsxs("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-slp-cyan to-slp-blue-bright rounded-lg sm:rounded-xl shadow-lg shadow-slp-cyan/30 group-hover:scale-110 transition-transform",children:[e.jsx(w,{size:16,className:"text-white sm:hidden"}),e.jsx(w,{size:20,className:"text-white hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("span",{className:"font-semibold text-xs sm:text-base text-slp-navy dark:text-white block",children:a("assets.newAsset")}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:a("assets.create")})]})]}),e.jsxs("button",{onClick:()=>d("/interventions/new"),className:"group flex flex-col sm:flex-row items-center sm:items-center gap-2 sm:gap-4 p-3 sm:p-5 bg-gradient-to-br from-amber-500/5 to-orange-500/10 dark:from-amber-500/10 dark:to-orange-500/20 hover:from-amber-500/10 hover:to-orange-500/20 dark:hover:from-amber-500/20 dark:hover:to-orange-500/30 rounded-xl border border-amber-500/20 dark:border-amber-500/30 transition-all duration-300",children:[e.jsxs("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg sm:rounded-xl shadow-lg shadow-amber-500/30 group-hover:scale-110 transition-transform",children:[e.jsx(l,{size:16,className:"text-white sm:hidden"}),e.jsx(l,{size:20,className:"text-white hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("span",{className:"font-semibold text-xs sm:text-base text-slp-navy dark:text-white block",children:a("interventions.newIntervention")}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:a("interventions.create")})]})]}),e.jsxs("button",{onClick:()=>d("/map"),className:"group flex flex-col sm:flex-row items-center sm:items-center gap-2 sm:gap-4 p-3 sm:p-5 bg-gradient-to-br from-emerald-500/5 to-emerald-600/10 dark:from-emerald-500/10 dark:to-emerald-600/20 hover:from-emerald-500/10 hover:to-emerald-600/20 dark:hover:from-emerald-500/20 dark:hover:to-emerald-600/30 rounded-xl border border-emerald-500/20 dark:border-emerald-500/30 transition-all duration-300",children:[e.jsxs("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-lg sm:rounded-xl shadow-lg shadow-emerald-500/30 group-hover:scale-110 transition-transform",children:[e.jsx(C,{size:16,className:"text-white sm:hidden"}),e.jsx(C,{size:20,className:"text-white hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("span",{className:"font-semibold text-xs sm:text-base text-slp-navy dark:text-white block",children:a("navigation.map")}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:a("map.viewAssets")})]})]}),e.jsxs("button",{onClick:()=>d("/reports"),className:"group flex flex-col sm:flex-row items-center sm:items-center gap-2 sm:gap-4 p-3 sm:p-5 bg-gradient-to-br from-violet-500/5 to-violet-600/10 dark:from-violet-500/10 dark:to-violet-600/20 hover:from-violet-500/10 hover:to-violet-600/20 dark:hover:from-violet-500/20 dark:hover:to-violet-600/30 rounded-xl border border-violet-500/20 dark:border-violet-500/30 transition-all duration-300",children:[e.jsxs("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-violet-400 to-violet-600 rounded-lg sm:rounded-xl shadow-lg shadow-violet-500/30 group-hover:scale-110 transition-transform",children:[e.jsx(z,{size:16,className:"text-white sm:hidden"}),e.jsx(z,{size:20,className:"text-white hidden sm:block"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("span",{className:"font-semibold text-xs sm:text-base text-slp-navy dark:text-white block",children:a("navigation.reports")}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:a("reports.view")})]})]})]})]})]})]})};export{J as default};
