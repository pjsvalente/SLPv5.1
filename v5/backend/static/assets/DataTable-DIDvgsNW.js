import{j as e}from"./vendor-ui-CHMJddlm.js";import{r as u}from"./vendor-react-B7WRoy5K.js";import{u as P,ac as C,ag as I,ah as $,an as V,ao as E}from"./index-COtvopzD.js";function L({data:j,columns:o,loading:v=!1,pagination:a,searchable:h=!1,searchValue:N="",onSearchChange:y,searchPlaceholder:k,onRowClick:g,emptyMessage:S,actions:n}){const{t}=P(),[c,w]=u.useState(null),[x,b]=u.useState("asc"),D=r=>{c===r?b(x==="asc"?"desc":"asc"):(w(r),b("asc"))},m=[...j].sort((r,d)=>{if(!c)return 0;const s=r[c],l=d[c];if(s===l)return 0;if(s==null)return 1;if(l==null)return-1;const f=s<l?-1:1;return x==="asc"?f:-f}),p=(r,d)=>d.includes(".")?d.split(".").reduce((s,l)=>s==null?void 0:s[l],r):r[d],i=a?Math.ceil(a.total/a.perPage):1;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(h||n)&&e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center gap-4",children:[h&&y&&e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:N,onChange:r=>y(r.target.value),placeholder:k||t("table.search"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n&&e.jsx("div",{className:"flex gap-2",children:n})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsx("tr",{children:o.map(r=>e.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${r.sortable?"cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-600":""} ${r.className||""}`,onClick:()=>r.sortable&&D(String(r.key)),children:e.jsxs("div",{className:"flex items-center gap-1",children:[r.label,r.sortable&&c===String(r.key)&&(x==="asc"?e.jsx(I,{className:"h-4 w-4"}):e.jsx($,{className:"h-4 w-4"}))]})},String(r.key)))})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:v?e.jsx("tr",{children:e.jsx("td",{colSpan:o.length,className:"px-4 py-8 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:o.length,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:S||t("table.empty")})}):m.map((r,d)=>e.jsx("tr",{onClick:()=>g==null?void 0:g(r),className:`${g?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700":""} transition-colors`,children:o.map(s=>e.jsx("td",{className:`px-4 py-3 text-sm text-gray-900 dark:text-gray-100 ${s.className||""}`,children:s.render?s.render(p(r,String(s.key)),r):p(r,String(s.key))??"-"},String(s.key)))},d))})]})}),a&&i>1&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t("common.showing")," ",(a.page-1)*a.perPage+1," ",t("common.to")," ",Math.min(a.page*a.perPage,a.total)," ",t("table.of")," ",a.total," ",t("common.results")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>a.onPageChange(a.page-1),disabled:a.page<=1,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(V,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[t("table.page")," ",a.page," ",t("table.of")," ",i]}),e.jsx("button",{onClick:()=>a.onPageChange(a.page+1),disabled:a.page>=i,className:"p-2 rounded-lg border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(E,{className:"h-4 w-4"})})]})]})]})}export{L as D};
